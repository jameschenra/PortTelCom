<!-- CONTENT -->
<div class="content p-24">

  <div class="mb-24" fxLayout="column" fxLayoutAlign="start" fxLayout.gt-md="row">

    <form (ngSubmit)="onSubmit($event)" class="mat-card mat-elevation-z4 p-24 mr-24" fxLayout="column"
      fxLayoutAlign="start" fxFlex="1 0 auto" [formGroup]="form" fxLayoutGap="15px">

      <app-loading [condition]="loadingCountry || loadingPlan || loadingCurrency"></app-loading>

      <div class="h2 mb-24">Subscription Plan Information</div>

      <div fxLayout="row" fxLayoutAlign="start center" fxFlex="1 0 auto">

        <!-- name -->
        <mat-form-field appearance="outline" fxFlex="50" class="pr-8">
          <mat-label>Name</mat-label>
          <input matInput formControlName="name">
          <mat-icon matSuffix class="secondary-text">assignment</mat-icon>
          <mat-error>
            <span *ngIf="isInvalid('name')">{{ controls.name.errors }}</span>
          </mat-error>
        </mat-form-field>
        <!--./ name -->

        <!-- description -->
        <mat-form-field appearance="outline" fxFlex="50" class="pl-8">
          <mat-label>Description</mat-label>
          <input matInput formControlName="description">
          <mat-icon matSuffix class="secondary-text">assignment</mat-icon>
          <mat-error>
            <span *ngIf="isInvalid('description')">{{ controls.description.errors }}</span>
          </mat-error>
        </mat-form-field>
        <!--./ description -->

      </div>

      <div fxLayout="row" fxLayoutAlign="start center" fxFlex="1 0 auto">

        <!-- price -->
        <mat-form-field appearance="outline" fxFlex="50" class="pr-8">
          <mat-label>Price</mat-label>
          <input matInput formControlName="price">
          <mat-icon matSuffix class="secondary-text">money</mat-icon>
          <mat-error>
            <span *ngIf="isInvalid('price')">{{ controls.price.errors }}</span>
          </mat-error>
        </mat-form-field>
        <!--./ price -->

        <!-- priceCurrency -->
        <mat-form-field appearance="outline" fxFlex="50" class="pl-8">
          <mat-label>Currency</mat-label>
          <mat-select formControlName="priceCurrency">
            <mat-option *ngFor="let currency of currencies" [value]="currency.name">
              {{ currency.name }}
            </mat-option>
          </mat-select>
          <mat-icon matSuffix class="secondary-text">markunread_mailbox</mat-icon>
          <mat-error>
            <span *ngIf="isInvalid('priceCurrency')">{{ controls.priceCurrency.errors }}</span>
          </mat-error>
        </mat-form-field>
        <!--./ priceCurrency -->

      </div>

      <div fxLayout="row" fxLayoutAlign="start center" fxFlex="1 0 auto">

        <!-- country -->
        <mat-form-field appearance="outline" fxFlex="50" class="pr-8">
          <mat-label>Country</mat-label>
          <mat-select formControlName="countryID">
            <mat-option *ngFor="let country of countries" [value]="country.ID">
              {{ country.name }}
            </mat-option>
          </mat-select>
          <mat-icon matSuffix class="secondary-text">markunread_mailbox</mat-icon>
          <mat-error>
            <span *ngIf="isInvalid('countryID')">{{ controls.countryID.errors }}</span>
          </mat-error>
        </mat-form-field>
        <!--./ country -->

        <!-- months -->
        <mat-form-field appearance="outline" fxFlex="50" class="pl-8">
          <mat-label>Months</mat-label>
          <input matInput formControlName="months">
          <mat-icon matSuffix class="secondary-text">settings_input_svideo</mat-icon>
          <mat-error>
            <span *ngIf="isInvalid('months')">{{ controls.months.errors }}</span>
          </mat-error>
        </mat-form-field>
        <!--./ months -->

      </div>

      <div fxLayout="row" fxLayoutAlign="start center" fxFlex="1 0 auto" class="mt-4">

        <!-- status (active or disabled) -->
        <mat-form-field appearance="outline" fxFlex="50" class="pr-8">
          <mat-label>Status</mat-label>
          <mat-select formControlName="active">
            <mat-option [value]="true">
              Active
            </mat-option>
            <mat-option [value]="false">
              Disable
            </mat-option>
          </mat-select>
          <mat-icon matSuffix class="secondary-text">markunread_mailbox</mat-icon>
          <mat-error>
            <span *ngIf="isInvalid('active')">{{ controls.active.errors }}</span>
          </mat-error>
        </mat-form-field>
        <!--./ user role -->

      </div>

      <br /><br />
      <div fxLayout="row" fxLayoutAlign="center center" fxLayoutGap="20px">
        <button *ngIf="currentUser.roleID == userRoles.ADMIN" mat-raised-button type="submit" color="accent">
          {{isNew ? 'Add Plan' : 'Update'}}
        </button>
        <button mat-raised-button type="button" color="warn" routerLink="/panel/subplan">
          Back
        </button>
      </div>
    </form>

    <!-- / REACTIVE FORM EXAMPLE -->
  </div>
</div>
<!-- / CONTENT -->